import{s as Pe,n as Ve,r as Re,d as Me}from"../chunks/scheduler.DHKgWpgq.js";import{S as je,i as Fe,e as T,b as P,s as te,m as j,n as se,c as I,d as k,f as R,o as ne,g as v,h as le,p as F,q as n,r as L,j as H,k as _,u as be,l as Be,v as re}from"../chunks/index.C3RB0HBA.js";function Y(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Le(e,t,o){const h=e.slice();return h[15]=t[o],h[17]=o,h}function De(e,t,o){const h=e.slice();return h[18]=t[o],h[20]=o,h}function qe(e,t,o){const h=e.slice();return h[21]=t[o],h[23]=o,h}function Ne(e,t,o){const h=e.slice();return h[18]=t[o],h[17]=o,h}function Oe(e,t,o){const h=e.slice();return h[21]=t[o],h[23]=o,h}function We(e){let t,o,h,a,c;return{c(){t=j("line"),this.h()},l(l){t=F(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),k(t).forEach(v),this.h()},h(){n(t,"x1",o=e[0].vertices[e[21][0]].x),n(t,"y1",h=e[0].vertices[e[21][0]].y),n(t,"x2",a=e[0].vertices[e[21][1]].x),n(t,"y2",c=e[0].vertices[e[21][1]].y),n(t,"class","svelte-156rygm"),L(t,"good",oe(e[1],e[21])),L(t,"bad",!oe(e[1],e[21]))},m(l,r){H(l,t,r)},p(l,r){r&1&&o!==(o=l[0].vertices[l[21][0]].x)&&n(t,"x1",o),r&1&&h!==(h=l[0].vertices[l[21][0]].y)&&n(t,"y1",h),r&1&&a!==(a=l[0].vertices[l[21][1]].x)&&n(t,"x2",a),r&1&&c!==(c=l[0].vertices[l[21][1]].y)&&n(t,"y2",c),r&3&&L(t,"good",oe(l[1],l[21])),r&3&&L(t,"bad",!oe(l[1],l[21]))},d(l){l&&v(t)}}}function Se(e){let t,o,h,a,c,l,r;return{c(){t=j("circle"),a=j("text"),c=P(e[17]),this.h()},l(f){t=F(f,"circle",{class:!0,cx:!0,cy:!0,r:!0}),k(t).forEach(v),a=F(f,"text",{"dominant-baseline":!0,x:!0,y:!0,class:!0});var u=k(a);c=R(u,e[17]),u.forEach(v),this.h()},h(){n(t,"class",Me("vertex"+e[17])+" svelte-156rygm"),n(t,"cx",o=e[18].x),n(t,"cy",h=e[18].y),n(t,"r","16"),n(a,"dominant-baseline","middle"),n(a,"x",l=e[18].x),n(a,"y",r=e[18].y),n(a,"class","svelte-156rygm")},m(f,u){H(f,t,u),H(f,a,u),_(a,c)},p(f,u){u&1&&o!==(o=f[18].x)&&n(t,"cx",o),u&1&&h!==(h=f[18].y)&&n(t,"cy",h),u&1&&l!==(l=f[18].x)&&n(a,"x",l),u&1&&r!==(r=f[18].y)&&n(a,"y",r)},d(f){f&&(v(t),v(a))}}}function Ue(e){let t,o,h,a,c;return{c(){t=j("line"),this.h()},l(l){t=F(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),k(t).forEach(v),this.h()},h(){n(t,"x1",o=e[1].nodes[e[21][0]].x),n(t,"y1",h=e[1].nodes[e[21][0]].y),n(t,"x2",a=e[1].nodes[e[21][1]].x),n(t,"y2",c=e[1].nodes[e[21][1]].y),n(t,"class","svelte-156rygm")},m(l,r){H(l,t,r)},p(l,r){r&2&&o!==(o=l[1].nodes[l[21][0]].x)&&n(t,"x1",o),r&2&&h!==(h=l[1].nodes[l[21][0]].y)&&n(t,"y1",h),r&2&&a!==(a=l[1].nodes[l[21][1]].x)&&n(t,"x2",a),r&2&&c!==(c=l[1].nodes[l[21][1]].y)&&n(t,"y2",c)},d(l){l&&v(t)}}}function Ye(e){let t,o,h,a,c,l,r,f,u;function D(){return e[11](e[17],e[20])}function z(...m){return e[12](e[20],...m)}function V(...m){return e[13](e[20],...m)}return{c(){t=j("circle"),a=j("text"),c=P(e[20]),this.h()},l(m){t=F(m,"circle",{class:!0,cx:!0,cy:!0,r:!0}),k(t).forEach(v),a=F(m,"text",{"dominant-baseline":!0,x:!0,y:!0,class:!0});var w=k(a);c=R(w,e[20]),w.forEach(v),this.h()},h(){n(t,"class",Me("vertex"+e[20])+" svelte-156rygm"),n(t,"cx",o=e[6](e[15],e[20]).x),n(t,"cy",h=e[6](e[15],e[20]).y),n(t,"r","10"),L(t,"bad",!Ee(e[1],e[20])&&e[1].bags[e[17]].some(z)),L(t,"filigrane",!e[1].bags[e[17]].some(V)),n(a,"dominant-baseline","middle"),n(a,"x",l=e[6](e[15],e[20]).x),n(a,"y",r=e[6](e[15],e[20]).y),n(a,"class","svelte-156rygm")},m(m,w){H(m,t,w),H(m,a,w),_(a,c),f||(u=be(t,"click",D),f=!0)},p(m,w){e=m,w&2&&o!==(o=e[6](e[15],e[20]).x)&&n(t,"cx",o),w&2&&h!==(h=e[6](e[15],e[20]).y)&&n(t,"cy",h),w&2&&L(t,"bad",!Ee(e[1],e[20])&&e[1].bags[e[17]].some(z)),w&2&&L(t,"filigrane",!e[1].bags[e[17]].some(V)),w&2&&l!==(l=e[6](e[15],e[20]).x)&&n(a,"x",l),w&2&&r!==(r=e[6](e[15],e[20]).y)&&n(a,"y",r)},d(m){m&&(v(t),v(a)),f=!1,u()}}}function Ae(e){let t,o,h,a,c=Y(e[0].vertices),l=[];for(let r=0;r<c.length;r+=1)l[r]=Ye(De(e,c,r));return{c(){t=j("rect");for(let r=0;r<l.length;r+=1)l[r].c();a=se(),this.h()},l(r){t=F(r,"rect",{rx:!0,x:!0,y:!0,width:!0,height:!0,class:!0}),k(t).forEach(v);for(let f=0;f<l.length;f+=1)l[f].l(r);a=se(),this.h()},h(){n(t,"rx","16"),n(t,"x",o=e[15].x-48),n(t,"y",h=e[15].y-48),n(t,"width","96"),n(t,"height","96"),n(t,"class","svelte-156rygm"),L(t,"badnode",e[1].bags[e[17]].length-1>e[2])},m(r,f){H(r,t,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(r,f);H(r,a,f)},p(r,f){if(f&2&&o!==(o=r[15].x-48)&&n(t,"x",o),f&2&&h!==(h=r[15].y-48)&&n(t,"y",h),f&6&&L(t,"badnode",r[1].bags[r[17]].length-1>r[2]),f&195){c=Y(r[0].vertices);let u;for(u=0;u<c.length;u+=1){const D=De(r,c,u);l[u]?l[u].p(D,f):(l[u]=Ye(D),l[u].c(),l[u].m(a.parentNode,a))}for(;u<l.length;u+=1)l[u].d(1);l.length=c.length}},d(r){r&&(v(t),v(a)),re(l,r)}}}function He(e){let t,o,h,a,c="Level 1",l,r="Level 2",f,u,D,z,V,m,w=`Endpoints of each edge should appear in a same bag of the tree
            decomposition.`,ie,A,d,y,q=e[2]+1+"",U,N,G,M,Ce=`The bags containing a given vertex should form a connected component
            in the tree decomposition.`,_e,O,ke="You won!",ge,ae,he,ve,J,W,ce,de,K,S,ue,me,we,Q=Y(e[0].edges),p=[];for(let i=0;i<Q.length;i+=1)p[i]=We(Oe(e,Q,i));let X=Y(e[0].vertices),b=[];for(let i=0;i<X.length;i+=1)b[i]=Se(Ne(e,X,i));let Z=Y(e[1].edges),E=[];for(let i=0;i<Z.length;i+=1)E[i]=Ue(qe(e,Z,i));let $=Y(e[1].nodes),C=[];for(let i=0;i<$.length;i+=1)C[i]=Ae(Le(e,$,i));return{c(){t=T("main"),o=T("h1"),h=P("Tree-width "),a=T("button"),a.textContent=c,l=T("button"),l.textContent=r,f=P(`
    Your mission is find a tree decomposition of tree-width
    `),u=T("div"),D=P(e[2]),z=P(`
    :
    `),V=T("ul"),m=T("li"),m.textContent=w,ie=te(),A=T("li"),d=P("Each bag should contain at most "),y=T("div"),U=P(q),N=P(`
            vertices.`),G=te(),M=T("li"),M.textContent=Ce,_e=te(),O=T("div"),O.textContent=ke,ge=te(),ae=T("br"),he=T("br"),ve=te(),J=T("div"),W=j("svg");for(let i=0;i<p.length;i+=1)p[i].c();ce=se();for(let i=0;i<b.length;i+=1)b[i].c();de=te(),K=T("div"),S=j("svg");for(let i=0;i<E.length;i+=1)E[i].c();ue=se();for(let i=0;i<C.length;i+=1)C[i].c();this.h()},l(i){t=I(i,"MAIN",{class:!0});var g=k(t);o=I(g,"H1",{class:!0});var s=k(o);h=R(s,"Tree-width "),a=I(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(a)!=="svelte-1t1qu7f"&&(a.textContent=c),l=I(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(l)!=="svelte-elqcof"&&(l.textContent=r),s.forEach(v),f=R(g,`
    Your mission is find a tree decomposition of tree-width
    `),u=I(g,"DIV",{class:!0});var B=k(u);D=R(B,e[2]),B.forEach(v),z=R(g,`
    :
    `),V=I(g,"UL",{class:!0});var ee=k(V);m=I(ee,"LI",{class:!0,"data-svelte-h":!0}),ne(m)!=="svelte-xvrleu"&&(m.textContent=w),ie=le(ee),A=I(ee,"LI",{class:!0});var fe=k(A);d=R(fe,"Each bag should contain at most "),y=I(fe,"DIV",{class:!0});var xe=k(y);U=R(xe,q),xe.forEach(v),N=R(fe,`
            vertices.`),fe.forEach(v),G=le(ee),M=I(ee,"LI",{class:!0,"data-svelte-h":!0}),ne(M)!=="svelte-p4bbxl"&&(M.textContent=Ce),ee.forEach(v),_e=le(g),O=I(g,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),ne(O)!=="svelte-1gh314c"&&(O.textContent=ke),ge=le(g),ae=I(g,"BR",{class:!0}),he=I(g,"BR",{class:!0}),ve=le(g),J=I(g,"DIV",{class:!0});var Te=k(J);W=F(Te,"svg",{class:!0,width:!0,height:!0});var ye=k(W);for(let x=0;x<p.length;x+=1)p[x].l(ye);ce=se();for(let x=0;x<b.length;x+=1)b[x].l(ye);ye.forEach(v),Te.forEach(v),de=le(g),K=I(g,"DIV",{class:!0});var Ie=k(K);S=F(Ie,"svg",{width:!0,height:!0,class:!0});var pe=k(S);for(let x=0;x<E.length;x+=1)E[x].l(pe);ue=se();for(let x=0;x<C.length;x+=1)C[x].l(pe);pe.forEach(v),Ie.forEach(v),g.forEach(v),this.h()},h(){n(a,"class","svelte-156rygm"),n(l,"class","svelte-156rygm"),n(o,"class","svelte-156rygm"),n(u,"class","svelte-156rygm"),n(m,"class","svelte-156rygm"),n(y,"class","svelte-156rygm"),n(A,"class","svelte-156rygm"),n(M,"class","svelte-156rygm"),n(V,"class","svelte-156rygm"),n(O,"id","youwon"),n(O,"class","svelte-156rygm"),L(O,"youloose",!e[8](e[1])),L(O,"youwon",e[8](e[1])),n(ae,"class","svelte-156rygm"),n(he,"class","svelte-156rygm"),n(W,"class","graph svelte-156rygm"),n(W,"width","300"),n(W,"height","300"),n(J,"class","svelte-156rygm"),n(S,"width","400"),n(S,"height","500"),n(S,"class","svelte-156rygm"),n(K,"class","svelte-156rygm"),n(t,"class","svelte-156rygm")},m(i,g){H(i,t,g),_(t,o),_(o,h),_(o,a),_(o,l),_(t,f),_(t,u),_(u,D),_(t,z),_(t,V),_(V,m),_(V,ie),_(V,A),_(A,d),_(A,y),_(y,U),_(A,N),_(V,G),_(V,M),_(t,_e),_(t,O),_(t,ge),_(t,ae),_(t,he),_(t,ve),_(t,J),_(J,W);for(let s=0;s<p.length;s+=1)p[s]&&p[s].m(W,null);_(W,ce);for(let s=0;s<b.length;s+=1)b[s]&&b[s].m(W,null);_(t,de),_(t,K),_(K,S);for(let s=0;s<E.length;s+=1)E[s]&&E[s].m(S,null);_(S,ue);for(let s=0;s<C.length;s+=1)C[s]&&C[s].m(S,null);me||(we=[be(a,"click",e[9]),be(l,"click",e[10])],me=!0)},p(i,[g]){if(g&4&&Be(D,i[2]),g&4&&q!==(q=i[2]+1+"")&&Be(U,q),g&258&&L(O,"youloose",!i[8](i[1])),g&258&&L(O,"youwon",i[8](i[1])),g&3){Q=Y(i[0].edges);let s;for(s=0;s<Q.length;s+=1){const B=Oe(i,Q,s);p[s]?p[s].p(B,g):(p[s]=We(B),p[s].c(),p[s].m(W,ce))}for(;s<p.length;s+=1)p[s].d(1);p.length=Q.length}if(g&1){X=Y(i[0].vertices);let s;for(s=0;s<X.length;s+=1){const B=Ne(i,X,s);b[s]?b[s].p(B,g):(b[s]=Se(B),b[s].c(),b[s].m(W,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=X.length}if(g&2){Z=Y(i[1].edges);let s;for(s=0;s<Z.length;s+=1){const B=qe(i,Z,s);E[s]?E[s].p(B,g):(E[s]=Ue(B),E[s].c(),E[s].m(S,ue))}for(;s<E.length;s+=1)E[s].d(1);E.length=Z.length}if(g&199){$=Y(i[1].nodes);let s;for(s=0;s<$.length;s+=1){const B=Le(i,$,s);C[s]?C[s].p(B,g):(C[s]=Ae(B),C[s].c(),C[s].m(S,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=$.length}},i:Ve,o:Ve,d(i){i&&v(t),re(p,i),re(b,i),re(E,i),re(C,i),me=!1,Re(we)}}}function ze(e){return Math.max(...e.bags.map(t=>t.length))-1}function oe(e,t){return e.bags.some(o=>o.some(h=>t[0]==h.i)&&o.some(h=>t[1]==h.i))}function Ee(e,t){const o=e.nodes.map((c,l)=>l).filter(c=>e.bags[c].some(l=>l.i==t));console.log(o);const h=[];function a(c){if(h[c])return 0;h[c]=!0;let l=1;for(const r of e.edges)o.indexOf(r[0])>=0&&o.indexOf(r[1])>=0&&(r[0]==c||r[1]==c)&&(l+=a(r[0]),l+=a(r[1]));return l}return o.length==0?!0:a(o[0])==o.length}function Ge(e,t,o){const h={graph:{vertices:[{x:100,y:100},{x:200,y:100},{x:250,y:150},{x:200,y:200},{x:100,y:200}],edges:[[4,0],[0,1],[1,2],[2,3],[3,4]]},decomposition:{nodes:[{x:200,y:50},{x:200,y:200},{x:200,y:350}],bags:[[{i:0,x:0,y:0}],[],[]],edges:[[0,1],[1,2]]},expectedTreeWidth:2},a={graph:{vertices:[{x:50,y:50},{x:150,y:50},{x:250,y:50},{x:50,y:150},{x:150,y:150},{x:250,y:150},{x:50,y:250},{x:150,y:250},{x:250,y:250}],edges:[[0,1],[1,2],[3,4],[4,5],[6,7],[7,8],[0,3],[3,6],[1,4],[4,7],[2,5],[5,8]]},decomposition:{nodes:[{x:50,y:50},{x:50,y:200},{x:50,y:350},{x:200,y:350},{x:200,y:200},{x:200,y:50}],bags:[[{i:0,x:0,y:0}],[],[],[],[],[],[],[],[],[],[],[],[],[]],edges:[[0,1],[1,2],[2,3],[3,4],[4,5]]},expectedTreeWidth:3};let c,l,r;function f(d){o(0,c=d.graph),o(1,l=d.decomposition),o(2,r=d.expectedTreeWidth)}f(a);function u(d,y){const q=c.vertices[y];return{x:d.x+(q.x-150)/4,y:d.y+(q.y-150)/4}}function D(d,y){function q(N,G){o(1,l.bags[N]=l.bags[N].filter(M=>M.i!=G),l),o(1,l)}function U(N,G){l.bags[N].push({i:G,x:0,y:0})}l.bags[d].some(N=>N.i==y)?q(d,y):U(d,y),o(1,l)}function z(d){const y=c.vertices.map((U,N)=>N).every(U=>Ee(d,U)),q=c.edges.every(U=>oe(d,U));return y&&q&&r==ze(d)}return[c,l,r,h,a,f,u,D,z,()=>f(h),()=>f(a),(d,y)=>D(d,y),(d,y)=>y.i==d,(d,y)=>y.i==d]}class Qe extends je{constructor(t){super(),Fe(this,t,Ge,He,Pe,{})}}export{Qe as component};
