import{s as je,n as Le,r as Fe,d as Re}from"../chunks/scheduler.DHKgWpgq.js";import{S as He,i as Ge,e as I,b as j,s as P,m as H,n as ne,c as B,d as k,f as F,o as se,h as R,g as v,p as G,q as o,r as b,j as J,k as _,u as me,l as Ve,v as ie}from"../chunks/index.C3RB0HBA.js";function Y(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function We(e,t,a){const r=e.slice();return r[19]=t[a],r[21]=a,r}function Ne(e,t,a){const r=e.slice();return r[22]=t[a],r[24]=a,r}function Oe(e,t,a){const r=e.slice();return r[25]=t[a],r[27]=a,r}function De(e,t,a){const r=e.slice();return r[22]=t[a],r[21]=a,r}function Ue(e,t,a){const r=e.slice();return r[25]=t[a],r[27]=a,r}function Ae(e){let t,a,r,c,h;return{c(){t=H("line"),this.h()},l(l){t=G(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),k(t).forEach(v),this.h()},h(){o(t,"x1",a=e[0].vertices[e[25][0]].x),o(t,"y1",r=e[0].vertices[e[25][0]].y),o(t,"x2",c=e[0].vertices[e[25][1]].x),o(t,"y2",h=e[0].vertices[e[25][1]].y),o(t,"class","svelte-nqczas"),b(t,"good",re(e[1],e[25])),b(t,"bad",!re(e[1],e[25]))},m(l,n){J(l,t,n)},p(l,n){n&1&&a!==(a=l[0].vertices[l[25][0]].x)&&o(t,"x1",a),n&1&&r!==(r=l[0].vertices[l[25][0]].y)&&o(t,"y1",r),n&1&&c!==(c=l[0].vertices[l[25][1]].x)&&o(t,"x2",c),n&1&&h!==(h=l[0].vertices[l[25][1]].y)&&o(t,"y2",h),n&3&&b(t,"good",re(l[1],l[25])),n&3&&b(t,"bad",!re(l[1],l[25]))},d(l){l&&v(t)}}}function Se(e){let t,a,r,c,h,l,n;return{c(){t=H("circle"),c=H("text"),h=j(e[21]),this.h()},l(f){t=G(f,"circle",{class:!0,cx:!0,cy:!0,r:!0}),k(t).forEach(v),c=G(f,"text",{"dominant-baseline":!0,x:!0,y:!0,class:!0});var u=k(c);h=F(u,e[21]),u.forEach(v),this.h()},h(){o(t,"class",Re("vertex"+e[21])+" svelte-nqczas"),o(t,"cx",a=e[22].x),o(t,"cy",r=e[22].y),o(t,"r","16"),o(c,"dominant-baseline","middle"),o(c,"x",l=e[22].x),o(c,"y",n=e[22].y),o(c,"class","svelte-nqczas")},m(f,u){J(f,t,u),J(f,c,u),_(c,h)},p(f,u){u&1&&a!==(a=f[22].x)&&o(t,"cx",a),u&1&&r!==(r=f[22].y)&&o(t,"cy",r),u&1&&l!==(l=f[22].x)&&o(c,"x",l),u&1&&n!==(n=f[22].y)&&o(c,"y",n)},d(f){f&&(v(t),v(c))}}}function Ye(e){let t,a,r,c,h;return{c(){t=H("line"),this.h()},l(l){t=G(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),k(t).forEach(v),this.h()},h(){o(t,"x1",a=e[1].nodes[e[25][0]].x),o(t,"y1",r=e[1].nodes[e[25][0]].y),o(t,"x2",c=e[1].nodes[e[25][1]].x),o(t,"y2",h=e[1].nodes[e[25][1]].y),o(t,"class","svelte-nqczas")},m(l,n){J(l,t,n)},p(l,n){n&2&&a!==(a=l[1].nodes[l[25][0]].x)&&o(t,"x1",a),n&2&&r!==(r=l[1].nodes[l[25][0]].y)&&o(t,"y1",r),n&2&&c!==(c=l[1].nodes[l[25][1]].x)&&o(t,"x2",c),n&2&&h!==(h=l[1].nodes[l[25][1]].y)&&o(t,"y2",h)},d(l){l&&v(t)}}}function Me(e){let t,a,r,c,h,l,n,f,u;function w(){return e[16](e[21],e[24])}function K(...m){return e[17](e[24],...m)}function M(...m){return e[18](e[24],...m)}return{c(){t=H("circle"),c=H("text"),h=j(e[24]),this.h()},l(m){t=G(m,"circle",{class:!0,cx:!0,cy:!0,r:!0}),k(t).forEach(v),c=G(m,"text",{"dominant-baseline":!0,x:!0,y:!0,class:!0});var p=k(c);h=F(p,e[24]),p.forEach(v),this.h()},h(){o(t,"class",Re("vertex"+e[24])+" svelte-nqczas"),o(t,"cx",a=e[7](e[19],e[24]).x),o(t,"cy",r=e[7](e[19],e[24]).y),o(t,"r","10"),b(t,"bad",!we(e[1],e[24])&&e[1].bags[e[21]].some(K)),b(t,"filigrane",!e[1].bags[e[21]].some(M)),o(c,"dominant-baseline","middle"),o(c,"x",l=e[7](e[19],e[24]).x),o(c,"y",n=e[7](e[19],e[24]).y),o(c,"class","svelte-nqczas")},m(m,p){J(m,t,p),J(m,c,p),_(c,h),f||(u=me(t,"click",w),f=!0)},p(m,p){e=m,p&2&&a!==(a=e[7](e[19],e[24]).x)&&o(t,"cx",a),p&2&&r!==(r=e[7](e[19],e[24]).y)&&o(t,"cy",r),p&2&&b(t,"bad",!we(e[1],e[24])&&e[1].bags[e[21]].some(K)),p&2&&b(t,"filigrane",!e[1].bags[e[21]].some(M)),p&2&&l!==(l=e[7](e[19],e[24]).x)&&o(c,"x",l),p&2&&n!==(n=e[7](e[19],e[24]).y)&&o(c,"y",n)},d(m){m&&(v(t),v(c)),f=!1,u()}}}function Pe(e){let t,a,r,c,h=Y(e[0].vertices),l=[];for(let n=0;n<h.length;n+=1)l[n]=Me(Ne(e,h,n));return{c(){t=H("rect");for(let n=0;n<l.length;n+=1)l[n].c();c=ne(),this.h()},l(n){t=G(n,"rect",{rx:!0,x:!0,y:!0,width:!0,height:!0,class:!0}),k(t).forEach(v);for(let f=0;f<l.length;f+=1)l[f].l(n);c=ne(),this.h()},h(){o(t,"rx","16"),o(t,"x",a=e[19].x-48),o(t,"y",r=e[19].y-48),o(t,"width","96"),o(t,"height","96"),o(t,"class","svelte-nqczas"),b(t,"badnode",e[1].bags[e[21]].length-1>e[2])},m(n,f){J(n,t,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(n,f);J(n,c,f)},p(n,f){if(f&2&&a!==(a=n[19].x-48)&&o(t,"x",a),f&2&&r!==(r=n[19].y-48)&&o(t,"y",r),f&6&&b(t,"badnode",n[1].bags[n[21]].length-1>n[2]),f&387){h=Y(n[0].vertices);let u;for(u=0;u<h.length;u+=1){const w=Ne(n,h,u);l[u]?l[u].p(w,f):(l[u]=Me(w),l[u].c(),l[u].m(c.parentNode,c))}for(;u<l.length;u+=1)l[u].d(1);l.length=h.length}},d(n){n&&(v(t),v(c)),ie(l,n)}}}function Je(e){let t,a,r,c,h="Level 1",l,n,f="Level 2",u,w,K="Level 3",M,m,p,oe,ce,O,A,ye=`Endpoints of each edge should appear in a same bag of the tree
            decomposition.`,ue,D,d,y=e[2]+1+"",U,ae,S,L,he=`The bags containing a given vertex should form a connected component
            in the tree decomposition.`,pe,V,xe="You won!",be,fe,_e,qe,Q,W,ge,ze,X,N,de,Ce,Te,Z=Y(e[0].edges),q=[];for(let i=0;i<Z.length;i+=1)q[i]=Ae(Ue(e,Z,i));let $=Y(e[0].vertices),z=[];for(let i=0;i<$.length;i+=1)z[i]=Se(De(e,$,i));let ee=Y(e[1].edges),C=[];for(let i=0;i<ee.length;i+=1)C[i]=Ye(Oe(e,ee,i));let te=Y(e[1].nodes),E=[];for(let i=0;i<te.length;i+=1)E[i]=Pe(We(e,te,i));return{c(){t=I("main"),a=I("h1"),r=j(`Tree-width
        `),c=I("button"),c.textContent=h,l=P(),n=I("button"),n.textContent=f,u=P(),w=I("button"),w.textContent=K,M=j(`
    Your mission is find a tree decomposition of tree-width
    `),m=I("div"),p=j(e[2]),oe=j(":"),ce=P(),O=I("ul"),A=I("li"),A.textContent=ye,ue=P(),D=I("li"),d=j(`Each bag should contain at most
            `),U=j(y),ae=j(`
            vertices.`),S=P(),L=I("li"),L.textContent=he,pe=P(),V=I("div"),V.textContent=xe,be=P(),fe=I("br"),_e=I("br"),qe=P(),Q=I("div"),W=H("svg");for(let i=0;i<q.length;i+=1)q[i].c();ge=ne();for(let i=0;i<z.length;i+=1)z[i].c();ze=P(),X=I("div"),N=H("svg");for(let i=0;i<C.length;i+=1)C[i].c();de=ne();for(let i=0;i<E.length;i+=1)E[i].c();this.h()},l(i){t=B(i,"MAIN",{class:!0});var g=k(t);a=B(g,"H1",{class:!0});var s=k(a);r=F(s,`Tree-width
        `),c=B(s,"BUTTON",{class:!0,"data-svelte-h":!0}),se(c)!=="svelte-1t1qu7f"&&(c.textContent=h),l=R(s),n=B(s,"BUTTON",{class:!0,"data-svelte-h":!0}),se(n)!=="svelte-elqcof"&&(n.textContent=f),u=R(s),w=B(s,"BUTTON",{class:!0,"data-svelte-h":!0}),se(w)!=="svelte-1wiftbz"&&(w.textContent=K),s.forEach(v),M=F(g,`
    Your mission is find a tree decomposition of tree-width
    `),m=B(g,"DIV",{class:!0});var x=k(m);p=F(x,e[2]),oe=F(x,":"),x.forEach(v),ce=R(g),O=B(g,"UL",{class:!0});var le=k(O);A=B(le,"LI",{class:!0,"data-svelte-h":!0}),se(A)!=="svelte-1pm29ha"&&(A.textContent=ye),ue=R(le),D=B(le,"LI",{class:!0});var ve=k(D);d=F(ve,`Each bag should contain at most
            `),U=F(ve,y),ae=F(ve,`
            vertices.`),ve.forEach(v),S=R(le),L=B(le,"LI",{class:!0,"data-svelte-h":!0}),se(L)!=="svelte-ulueu3"&&(L.textContent=he),le.forEach(v),pe=R(g),V=B(g,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),se(V)!=="svelte-1gh314c"&&(V.textContent=xe),be=R(g),fe=B(g,"BR",{class:!0}),_e=B(g,"BR",{class:!0}),qe=R(g),Q=B(g,"DIV",{class:!0});var Ie=k(Q);W=G(Ie,"svg",{class:!0,width:!0,height:!0});var Ee=k(W);for(let T=0;T<q.length;T+=1)q[T].l(Ee);ge=ne();for(let T=0;T<z.length;T+=1)z[T].l(Ee);Ee.forEach(v),Ie.forEach(v),ze=R(g),X=B(g,"DIV",{class:!0});var Be=k(X);N=G(Be,"svg",{width:!0,height:!0,class:!0});var ke=k(N);for(let T=0;T<C.length;T+=1)C[T].l(ke);de=ne();for(let T=0;T<E.length;T+=1)E[T].l(ke);ke.forEach(v),Be.forEach(v),g.forEach(v),this.h()},h(){o(c,"class","svelte-nqczas"),o(n,"class","svelte-nqczas"),o(w,"class","svelte-nqczas"),o(a,"class","svelte-nqczas"),o(m,"class","svelte-nqczas"),o(A,"class","svelte-nqczas"),b(A,"good",e[9](e[1])),o(D,"class","svelte-nqczas"),b(D,"good",e[11](e[1])),o(L,"class","svelte-nqczas"),b(L,"good",e[10](e[1])),o(O,"class","svelte-nqczas"),o(V,"id","youwon"),o(V,"class","svelte-nqczas"),b(V,"youloose",!e[12](e[1])),b(V,"youwon",e[12](e[1])),o(fe,"class","svelte-nqczas"),o(_e,"class","svelte-nqczas"),o(W,"class","graph svelte-nqczas"),o(W,"width","300"),o(W,"height","300"),o(Q,"class","svelte-nqczas"),o(N,"width","400"),o(N,"height","500"),o(N,"class","svelte-nqczas"),o(X,"class","svelte-nqczas"),o(t,"class","svelte-nqczas")},m(i,g){J(i,t,g),_(t,a),_(a,r),_(a,c),_(a,l),_(a,n),_(a,u),_(a,w),_(t,M),_(t,m),_(m,p),_(m,oe),_(t,ce),_(t,O),_(O,A),_(O,ue),_(O,D),_(D,d),_(D,U),_(D,ae),_(O,S),_(O,L),_(t,pe),_(t,V),_(t,be),_(t,fe),_(t,_e),_(t,qe),_(t,Q),_(Q,W);for(let s=0;s<q.length;s+=1)q[s]&&q[s].m(W,null);_(W,ge);for(let s=0;s<z.length;s+=1)z[s]&&z[s].m(W,null);_(t,ze),_(t,X),_(X,N);for(let s=0;s<C.length;s+=1)C[s]&&C[s].m(N,null);_(N,de);for(let s=0;s<E.length;s+=1)E[s]&&E[s].m(N,null);Ce||(Te=[me(c,"click",e[13]),me(n,"click",e[14]),me(w,"click",e[15])],Ce=!0)},p(i,[g]){if(g&4&&Ve(p,i[2]),g&514&&b(A,"good",i[9](i[1])),g&4&&y!==(y=i[2]+1+"")&&Ve(U,y),g&2050&&b(D,"good",i[11](i[1])),g&1026&&b(L,"good",i[10](i[1])),g&4098&&b(V,"youloose",!i[12](i[1])),g&4098&&b(V,"youwon",i[12](i[1])),g&3){Z=Y(i[0].edges);let s;for(s=0;s<Z.length;s+=1){const x=Ue(i,Z,s);q[s]?q[s].p(x,g):(q[s]=Ae(x),q[s].c(),q[s].m(W,ge))}for(;s<q.length;s+=1)q[s].d(1);q.length=Z.length}if(g&1){$=Y(i[0].vertices);let s;for(s=0;s<$.length;s+=1){const x=De(i,$,s);z[s]?z[s].p(x,g):(z[s]=Se(x),z[s].c(),z[s].m(W,null))}for(;s<z.length;s+=1)z[s].d(1);z.length=$.length}if(g&2){ee=Y(i[1].edges);let s;for(s=0;s<ee.length;s+=1){const x=Oe(i,ee,s);C[s]?C[s].p(x,g):(C[s]=Ye(x),C[s].c(),C[s].m(N,de))}for(;s<C.length;s+=1)C[s].d(1);C.length=ee.length}if(g&391){te=Y(i[1].nodes);let s;for(s=0;s<te.length;s+=1){const x=We(i,te,s);E[s]?E[s].p(x,g):(E[s]=Pe(x),E[s].c(),E[s].m(N,null))}for(;s<E.length;s+=1)E[s].d(1);E.length=te.length}},i:Le,o:Le,d(i){i&&v(t),ie(q,i),ie(z,i),ie(C,i),ie(E,i),Ce=!1,Fe(Te)}}}function Ke(e){return Math.max(...e.bags.map(t=>t.length))-1}function re(e,t){return e.bags.some(a=>a.some(r=>t[0]==r.i)&&a.some(r=>t[1]==r.i))}function we(e,t){const a=e.nodes.map((h,l)=>l).filter(h=>e.bags[h].some(l=>l.i==t));console.log(a);const r=[];function c(h){if(r[h])return 0;r[h]=!0;let l=1;for(const n of e.edges)a.indexOf(n[0])>=0&&a.indexOf(n[1])>=0&&(n[0]==h||n[1]==h)&&(l+=c(n[0]),l+=c(n[1]));return l}return a.length==0?!0:c(a[0])==a.length}function Qe(e,t,a){const r={graph:{vertices:[{x:100,y:100},{x:200,y:100},{x:250,y:150},{x:200,y:200},{x:100,y:200}],edges:[[4,0],[0,1],[1,2],[2,3],[3,4]]},decomposition:{nodes:[{x:200,y:50},{x:200,y:200},{x:200,y:350}],bags:[[{i:0,x:0,y:0}],[],[]],edges:[[0,1],[1,2]]},expectedTreeWidth:2},c={graph:{vertices:[{x:50,y:50},{x:150,y:50},{x:250,y:50},{x:50,y:150},{x:150,y:150},{x:250,y:150},{x:50,y:250},{x:150,y:250},{x:250,y:250}],edges:[[0,1],[1,2],[3,4],[4,5],[6,7],[7,8],[0,3],[3,6],[1,4],[4,7],[2,5],[5,8]]},decomposition:{nodes:[{x:50,y:50},{x:50,y:200},{x:50,y:350},{x:200,y:350},{x:200,y:200},{x:200,y:50}],bags:[[{i:0,x:0,y:0}],[],[],[],[],[],[],[],[],[],[],[],[],[]],edges:[[0,1],[1,2],[2,3],[3,4],[4,5]]},expectedTreeWidth:3},h={graph:{vertices:[{x:150,y:20},{x:150,y:120},{x:100,y:200},{x:200,y:200},{x:50,y:280},{x:150,y:280},{x:250,y:280}],edges:[[0,1],[1,2],[1,3],[2,4],[2,5],[3,5],[3,6],[4,5],[5,6]]},decomposition:{nodes:[{x:200,y:50},{x:200,y:180},{x:200,y:300},{x:100,y:420},{x:300,y:420}],bags:[[{i:0,x:0,y:0}],[],[],[],[]],edges:[[0,1],[1,2],[2,3],[2,4]]},expectedTreeWidth:2};let l,n,f;function u(d){a(0,l=d.graph),a(1,n=d.decomposition),a(2,f=d.expectedTreeWidth)}u(r);function w(d,y){const U=l.vertices[y];return{x:d.x+(U.x-150)/4,y:d.y+(U.y-150)/4}}function K(d,y){function U(S,L){a(1,n.bags[S]=n.bags[S].filter(he=>he.i!=L),n),a(1,n)}function ae(S,L){n.bags[S].push({i:L,x:0,y:0})}n.bags[d].some(S=>S.i==y)?U(d,y):ae(d,y),a(1,n)}function M(d){return l.edges.every(y=>re(d,y))}function m(d){return l.vertices.map((y,U)=>U).every(y=>we(d,y))}function p(d){return Ke(d)<=f}function oe(d){return m(d)&&M(d)&&p(d)}return[l,n,f,r,c,h,u,w,K,M,m,p,oe,()=>u(r),()=>u(c),()=>u(h),(d,y)=>K(d,y),(d,y)=>y.i==d,(d,y)=>y.i==d]}class $e extends He{constructor(t){super(),Ge(this,t,Qe,Je,je,{})}}export{$e as component};
